<th:block xmlns:th="http://www.thymeleaf.org">
  <section class="jumbotron text-center">
    <div class="container">
      <h1 class="jumbotron-heading">Add book</h1>
    </div>
  </section>

  <div class="container">
    <div class="row">
      <div class="col-md-5">
        <form method="post" action="/books/add">
          <div class="form-group">
            <label for="title">Book Title</label>
            <input id="title" name="title" type="text" class="form-control" th:value="(${book!=null} ? ${book.getName()} : '')" required placeholder="Book title">
          </div>
          <input hidden name="bookId" th:value="(${book!=null} ? ${book.getId()} : '')">
          <div class="form-group">
            <label>Book category</label>
            <select name="category" class="form-control">
              <option th:if="${book!=null}"
                      th:each="c : ${categories}"
                      th:text="${c}"
                      th:selected="${book.getCategory()!=null
                      && book.getCategory() == c}">

              </option>
              <option th:if="${book==null}"
                      th:each="c : ${categories}" th:text="${c}"
                      th:value="${c}">
              </option>
            </select>
          </div>
          <div class="form-group">
            <label>Author</label>
            <select name="authorId" class="form-control">
              <option th:if="${book!=null}" th:selected="${book.getAuthor().getName()!=null
            && book.getAuthor().getId() == a.getId()}"
                      th:each="a : ${authors}"
                      th:text="${book.getAuthor().getName()+' '+book.getAuthor().getSurname()}"
                      th:value="${a.getId()}">
              </option>
              <option th:if="${book==null}"
                      th:each="a : ${authors}" th:text="${a.getName()+' '+a.getSurname()}"
                      th:value="${a.getId()}">
              </option>
            </select>
          </div>
          <div class="form-group">
            <label for="availableCopies">Available copies</label>
            <input id="availableCopies" name="availableCopies" type="number" class="form-control" th:value="(${book!=null} ? ${book.getAvailableCopies()} : '')" required placeholder="Available copies">
          </div>
          <button type="submit" class="btn btn-dark ">Submit</button>
          <a type="button" class="btn btn-primary" href="/books">Back</a>
        </form>
      </div>
    </div>
  </div>
</th:block>